<wxs module="util" src="../util.wxs" />

<view class="container empty" wx:if="{{todos.length === 0}}">
  <image class="background" src="../../images/list/background.png" mode="aspectFit" />
  <view class="title">暂无记录</view>
  <view class="subtitle">点击下方按钮新增记录！</view>
  <footer></footer>
</view>

<view class="container" wx:if="{{todos.length > 0}}">
  <view class="form-group_label">
    <image class="add-image" src="../../images/icon/gonglve.png" />
    <view class="top1">已上传</view>
    <view class="badge">
      <mp-badge content="{{pending.length}}" style="margin-left: 10rpx;" />
      </view>
  </view>
  <view class="form-group" wx:if="{{pending.length > 0}}">
    <view class="form-cell" wx:for="{{pending}}" wx:key="index">
      <mp-slideview buttons="{{slideButtons}}" data-index='{{index}}' bindbuttontap="slideButtonTap">
        <view class="slide" data-index="{{index}}" bindtap="toDetailPage">
          <image style="width: 60rpx; height: 60rpx" class="add-image" src="../../images/icon/faxian.png" />
          <view class="todo-info">
            <view class="todo-info_title">{{util.filterStr(item.name, 10)}}</view>
            <view class="todo-info_desc">记录时间：{{util.filterStr(item.date, 10)}}</view>
          </view>
          <image wx:if="{{item.star}}" class="star" src="../../images/file/star.png" />
          <image wx:if="{{item.files.length > 0}}" data-index='{{index}}' class="file" src="../../images/file/file.png" catchtap="toFileList" />
        </view>
      </mp-slideview>
    </view>
  </view>
  
  <footer></footer>
</view>